<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Work Finder — исполнители рядом</title>
  <meta name="description" content="Поиск исполнителей как в tap.az: фильтры, карта, быстрый контакт. Работает на GitHub Pages." />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/regular/style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <style>html,body{height:100%}#map{min-height:420px}.leaflet-container{border-radius:1rem}</style>
</head>
<body class="bg-slate-50 text-slate-900">
<header class="sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-slate-200">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center gap-3">
<a href="./" class="flex items-center gap-2 group">
<div class="h-9 w-9 rounded-xl bg-indigo-600 text-white grid place-items-center"><i class="ph ph-briefcase text-xl"></i></div>
<div><div class="font-bold tracking-tight">Work Finder</div><div class="text-xs text-slate-500 -mt-0.5">Найди мастера быстро</div></div></a>
<nav class="ml-auto flex items-center gap-2"><a href="add.html" class="inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700 transition"><i class="ph ph-plus"></i> Подать объявление</a>
<a href="profile.html" class="hidden sm:inline-flex items-center gap-2 px-3 py-2 rounded-xl border border-slate-300 hover:bg-slate-100 transition"><i class="ph ph-user"></i> Профиль</a>
<a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener" class="hidden sm:inline text-xs text-slate-500 hover:text-slate-700">OSM</a></nav></div></header>
<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
<section class="mb-4">
<div class="grid grid-cols-1 lg:grid-cols-12 gap-4"><div class="lg:col-span-8"><div class="flex flex-col sm:flex-row gap-3"><div class="flex-1 relative"><i class="ph ph-magnifying-glass absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"></i>
<input id="q" type="search" placeholder="Кого ищем? (электрик, сантехник, репетитор...)" class="w-full pl-10 pr-10 py-3 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" />
<button id="clearQ" class="absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600"><i class="ph ph-x"></i></button></div>
<button id="searchBtn" class="px-4 py-3 rounded-xl bg-indigo-600 text-white hover:bg-indigo-700 transition">Найти</button></div>
<div class="mt-3 grid grid-cols-2 md:grid-cols-4 gap-3">
<select id="category" class="w-full px-3 py-3 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"><option value="">Все категории</option></select>
<select id="city" class="w-full px-3 py-3 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"><option value="">Все города</option></select>
<select id="sort" class="w-full px-3 py-3 rounded-xl border border-slate-300 focus:outline-none focus:ring-2 focus:ring-indigo-500"><option value="recent">Сначала новые</option><option value="salary_desc">Оплата: по убыванию</option><option value="salary_asc">Оплата: по возрастанию</option><option value="exp_desc">Опыт: по убыванию</option><option value="exp_asc">Опыт: по возрастанию</option></select>
<button id="resetBtn" class="px-3 py-3 rounded-xl border border-slate-300 hover:bg-slate-100 transition">Сбросить</button></div></div>
<aside class="lg:col-span-4"><div class="p-4 rounded-2xl border border-slate-200 bg-white"><div class="flex items-center gap-2 mb-2"><i class="ph ph-map-pin text-indigo-600"></i><h2 class="font-semibold">Карта исполнителей</h2></div>
<div id="map" class="w-full"></div><div class="flex justify-between items-center mt-3 text-sm"><label class="flex items-center gap-2"><input id="clusterToggle" type="checkbox" class="rounded border-slate-300">Кластеризация меток</label>
<a id="openAllOnMap" href="#" class="text-indigo-600 hover:underline">Открыть в отдельной вкладке</a></div></div></aside></div></section>
<section><div class="flex items-center justify-between mb-3"><h2 class="font-semibold">Найденные объявления</h2><div class="text-sm text-slate-500"><span id="resultCount">0</span> результатов</div></div>
<div id="cards" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
<div class="flex items-center justify-center gap-2 mt-6"><button id="prevPage" class="px-3 py-2 rounded-xl border border-slate-300 hover:bg-slate-100 disabled:opacity-40">← Назад</button>
<div id="pageInfo" class="text-sm text-slate-600"></div>
<button id="nextPage" class="px-3 py-2 rounded-xl border border-slate-300 hover:bg-slate-100 disabled:opacity-40">Вперёд →</button></div></section></main>
<footer class="border-t border-slate-200"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 text-sm text-slate-500 flex flex-col sm:flex-row gap-2 sm:gap-6"><div>© <span id="year"></span> Work Finder</div>
<div class="flex-1">Данные: демо <code>workers.json</code> + ваши объявления (localStorage). Для продакшена подключите бэкенд.</div>
<div><a class="text-indigo-600 hover:underline" href="add.html">Добавить объявление</a></div></div></footer>
<script src="script.js"></script><script>document.addEventListener('DOMContentLoaded',async()=>{document.getElementById('year').textContent=new Date().getFullYear();await WorkFinder.init({listContainer:document.getElementById('cards'),mapContainerId:'map',resultCountEl:document.getElementById('resultCount'),pageInfoEl:document.getElementById('pageInfo'),prevBtn:document.getElementById('prevPage'),nextBtn:document.getElementById('nextPage'),searchInput:document.getElementById('q'),clearSearchBtn:document.getElementById('clearQ'),searchBtn:document.getElementById('searchBtn'),categorySelect:document.getElementById('category'),citySelect:document.getElementById('city'),sortSelect:document.getElementById('sort'),resetBtn:document.getElementById('resetBtn'),clusterToggle:document.getElementById('clusterToggle'),openAllOnMapLink:document.getElementById('openAllOnMap')});});</script>
</body></html>